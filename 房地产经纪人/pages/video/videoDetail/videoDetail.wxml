<!--pages/video/videoDetail/videoDetail.wxml-->

<video bindtap="tooglePlay" id ="myVideo" controls initial-time="{{videos[px-1].lastViewLength}}"  poster="{{img}}" class="video" src="{{videos[px-1].videoUrl}}" bindended="end" bindtimeupdate="timeupdate" bindwaiting="waiting" custom-cache="false" bindplay= "play" bindpause = "pause" enable-progress-gesture >
  <!-- <cover-view wx:if = "{{videos[px-1].lastViewLength =='0'}}"  bindtap="tooglePlay">
    <cover-image class="video-img" src="{{img}}" />
  </cover-view>

  <cover-view wx:if = "{{videos[px-1].lastViewLength !='0'&&!isPlaying}}"  bindtap="tooglePlay">
    <cover-image class="video-icon" src="/imgs/play-icon.png" />
  </cover-view> -->
</video>
<image wx:if="{{!loaded}}" class="loading-img" src="/imgs/timg.gif" mode="aspectFit"></image>
<view wx:if="{{loaded}}" class="content">
  <!-- 视频 -->
  <view class="up-block">
    <view class='kc_money'>
      <span style="font-size:25rpx;">¥</span>{{kc_money}}</view>
    <view class="{{tag[0].class}}">{{tag[0].tag}}</view>
    <view class="{{tag[1].class}}">{{tag[1].tag}}</view>
    <view class="youhui">套餐更优惠</view>
  </view>

  <view class="mybar">
    <view class="title-block1">
      <view data-product="introduction" bindtap='changeOption' class="title1" style="color:{{product == 'introduction'?'#1aa0f4':'black'}}">简介</view>
      <view data-product="option" bindtap='changeOption' class="title2" style="color:{{product == 'option'?'#1aa0f4':'black'}}">目录</view>
    </view>
    <view class="blockMove" animation="{{moveData}}"></view>
  </view>

  <scroll-view scroll-y style="height:{{windowHeight-620}}rpx;">
    <!-- 简介信息 -->
    <view wx:if="{{product == 'introduction'}}">
      {{info}}
    </view>

    <!-- 目录信息 -->
    <view wx:if="{{product == 'option'}}" class="option">
      <view wx:for="{{videos}}" wx:for-item='video' wx:key='v'>
        <view data-index="{{index}}" class="video-block" hover-class='select' bindtap='changeVideo'>
          <canvas class = "myCanvas" canvas-id='myCanvas{{index}}'></canvas>
          <!-- <image class="icon" src="{{video.src}}" mode="aspectFit"></image> -->
          <view class="title-block">
            <view class="title">{{video.title}}</view>
            <view class="view-time">{{video.time}}</view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>